datasource db {
  provider = "postgres"
  url      = "postgresql://dev:dev@localhost:5432/concert1"
}

generator client {
  provider             = "prisma-client-py"
  recursive_type_depth = 5
}

model Ticket {
  id            String   @id @default(uuid())
  quantity      Int
  creation_time DateTime
  expiry_time   DateTime
  person_in     Int      @default(0)
  person_out    Int      @default(0)
}

model Order {
  order_id      String @id @default(uuid())
  quantity      Int
  selected_class String?
  order_time    DateTime @default(now())
}

model TicketAvailability {
  id            String   @id @default(uuid())
  total_quantity Int      @default(750)  // Initial tickets available
  available_quantity Int  @default(750)  // Updated with each order
  last_updated   DateTime @default(now()) // Track when availability was last modified
}
